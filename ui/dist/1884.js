"use strict";(self.webpackChunkhades_phone=self.webpackChunkhades_phone||[]).push([[1884,3751,6009,9567],{7430:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var r=n(60897),a=n(29412),o=n(14250),l=n(54637),c=n(90680),i=n(39314),u=n(24492),s=n(73842),f=n(33625),d=n(31373),m=n(29699),p=n(31005),y=n(71069),v=n(4162),b=n(90418),h=n(53894),g=n(59950),E=n(51734),A=n(83271),w=n(21884);function k(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var i=r&&r.prototype instanceof c?r:c,u=Object.create(i.prototype);return S(u,"_invoke",function(n,r,a){var o,c,i,u=0,s=a||[],f=!1,d={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return o=t,c=0,i=e,d.n=n,l}};function m(n,r){for(c=n,i=r,t=0;!f&&u&&!a&&t<s.length;t++){var a,o=s[t],m=d.p,p=o[2];n>3?(a=p===r)&&(i=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=m&&((a=n<2&&m<o[1])?(c=0,d.v=r,d.n=o[1]):m<p&&(a=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,d.n=p,c=0))}if(a||n>1)return l;throw f=!0,r}return function(a,s,p){if(u>1)throw TypeError("Generator is already running");for(f&&1===s&&m(s,p),c=s,i=p;(t=c<2?e:i)||!f;){o||(c?c<3?(c>1&&(d.n=-1),m(c,i)):d.n=i:d.v=i);try{if(u=2,o){if(c||(a="next"),t=o[a]){if(!(t=t.call(o,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(i=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=e}else if((t=(f=d.n<0)?i:n.call(r,d))!==l)break}catch(t){o=e,c=1,i=t}finally{u=1}}return{value:t,done:f}}}(n,a,o),!0),u}var l={};function c(){}function i(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(S(t={},r,function(){return this}),t),f=u.prototype=c.prototype=Object.create(s);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,S(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return i.prototype=u,S(f,"constructor",u),S(u,"constructor",i),i.displayName="GeneratorFunction",S(u,a,"GeneratorFunction"),S(f),S(f,a,"Generator"),S(f,r,function(){return this}),S(f,"toString",function(){return"[object Generator]"}),(k=function(){return{w:o,m:d}})()}function S(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}S=function(e,t,n,r){function o(t,n){S(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},S(e,t,n,r)}function T(e,t,n,r,a,o,l){try{var c=e[o](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}function N(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){T(o,r,a,l,c,"next",e)}function c(e){T(o,r,a,l,c,"throw",e)}l(void 0)})}}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,l,c=[],i=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,a=e}finally{try{if(!i&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var O=(0,b.A)(function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},btn:{marginBottom:5},details:{"& h3":{color:e.palette.primary.main}},detailsList:{padding:10},buttons:{width:"100%",display:"flex",margin:"auto"},button:{width:"-webkit-fill-available",padding:20,color:e.palette.warning.main,"&:hover":{backgroundColor:"".concat(e.palette.warning.main,"14")}},buttonNegative:{width:"-webkit-fill-available",padding:20,color:e.palette.error.main,"&:hover":{backgroundColor:"".concat(e.palette.error.main,"14")}},buttonPositive:{width:"-webkit-fill-available",padding:20,color:e.palette.success.main,"&:hover":{backgroundColor:"".concat(e.palette.success.main,"14")}},creatorInput:{marginBottom:5},track:{background:e.palette.secondary.dark}}});const x=function(e){var t=O(),n=(0,a.wA)(),b=(0,g.MW)(),S=(0,a.d4)(function(e){return e.data.data.tracks}),T=(0,a.d4)(function(e){return e.race.creator}),j=C((0,r.useState)(null),2),x=j[0],P=j[1],_=C((0,r.useState)(!1),2),R=_[0],I=_[1],D=C((0,r.useState)(null),2),W=D[0],F=D[1],G=C((0,r.useState)(null),2),B=G[0],U=G[1],L=function(){var e=N(k().m(function e(){var t,r;return k().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,E.A.send("CreateTrack");case 1:return e.n=2,e.v.json();case 2:t=e.v,b(t?"Creator Started":"Unable to Start Creator"),t&&n({type:"RACE_STATE_CHANGE",payload:{state:{checkpoints:0,distance:0,type:"lap"}}}),e.n=4;break;case 3:e.p=3,r=e.v,console.log(r),b("Unable to Start Creator");case 4:return e.a(2)}},e,null,[[0,3]])}));return function(){return e.apply(this,arguments)}}(),z=function(){var e=N(k().m(function e(){return k().w(function(e){for(;;)switch(e.n){case 0:try{E.A.send("StopCreator")}catch(e){console.log(e)}n({type:"RACE_STATE_CHANGE",payload:{state:null}});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),H=function(){var e=N(k().m(function e(t){var n,r;return k().w(function(e){for(;;)switch(e.p=e.n){case 0:return t.preventDefault(),e.p=1,e.n=2,E.A.send("FinishCreator",{name:t.target.name.value,type:t.target.type.value});case 2:return e.n=3,e.v.json();case 3:n=e.v,b(n?"Track Create":"Unable to Create Track"),I(!1),e.n=5;break;case 4:e.p=4,r=e.v,console.log(r),b("Unable to Create Track"),I(!1);case 5:return e.a(2)}},e,null,[[1,4]])}));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=N(k().m(function e(){var t,n;return k().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,E.A.send("DeleteTrack",W);case 1:return e.n=2,e.v.json();case 2:t=e.v,F(null),P(null),b(t?"Track Deleted":"Unable to Delete Track"),e.n=4;break;case 3:e.p=3,n=e.v,console.log(n),F(null),P(null),b("Unable to Delete Track");case 4:return e.a(2)}},e,null,[[0,3]])}));return function(){return e.apply(this,arguments)}}(),q=function(){var e=N(k().m(function e(){var t,n;return k().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,E.A.send("ResetTrackHistory",B);case 1:return e.n=2,e.v.json();case 2:t=e.v,U(null),b(t?"Track History Reset":"Unable to Reset Track History"),e.n=4;break;case 3:e.p=3,n=e.v,console.log(n),U(null),b("Unable to Reset Track History");case 4:return e.a(2)}},e,null,[[0,3]])}));return function(){return e.apply(this,arguments)}}();return r.createElement("div",{className:t.wrapper},r.createElement("div",{className:t.btnContainer},null==T?r.createElement(o.A,{fullWidth:!0,className:t.btn,variant:"contained",color:"primary",onClick:L},"Create Map"):r.createElement(r.Fragment,null,r.createElement(o.A,{fullWidth:!0,className:t.btn,variant:"contained",color:"primary",onClick:function(){return I(!0)}},"Save Map"),r.createElement(o.A,{fullWidth:!0,className:t.btn,variant:"contained",color:"inherit",onClick:z},"Cancel Map Create"))),r.createElement("div",{style:{marginTop:25}},S.map(function(e,n){return r.createElement(l.A,{key:"track-".concat(n),className:t.track,expanded:x===n,onChange:x===n?function(){return P(null)}:function(){return P(n)}},r.createElement(c.A,{expandIcon:r.createElement(h.g,{icon:["fas","chevron-down"]})},r.createElement(i.A,{className:t.heading},e.Name),r.createElement(i.A,{className:t.secondaryHeading},e.Distance)),r.createElement(u.A,null,r.createElement(s.A,null,r.createElement(f.Ay,null,r.createElement(d.A,{primary:"Name",secondary:e.Name})),r.createElement(f.Ay,null,r.createElement(d.A,{primary:"Type",secondary:w.TrackTypes[e.Type]})),r.createElement(f.Ay,null,r.createElement(d.A,{primary:"Distance",secondary:e.Distance})))),r.createElement(m.A,null),r.createElement(p.A,null,r.createElement(o.A,{size:"small",onClick:function(){return U(e._id)}},"Reset Lap History"),r.createElement(o.A,{size:"small",onClick:function(){return F(e._id)}},"Delete Track")))})),r.createElement(A.pT,{title:"Delete Track?",open:null!=W,confirm:"Yes",decline:"No",onConfirm:M,onDecline:function(){return F(null)}}),r.createElement(A.pT,{title:"Reset Track History?",open:null!=B,confirm:"Yes",decline:"No",onConfirm:q,onDecline:function(){return U(null)}}),r.createElement(A.aF,{form:!0,open:R,title:"Create New Track",onClose:function(){return I(!1)},onAccept:H,submitLang:"Save Track",closeLang:"Cancel"},r.createElement(y.A,{className:t.creatorInput,fullWidth:!0,required:!0,label:"Name",name:"name",variant:"outlined"}),r.createElement(y.A,{select:!0,fullWidth:!0,required:!0,variant:"outlined",label:"Type",name:"type",defaultValue:"laps"},Object.keys(w.TrackTypes).map(function(e){return r.createElement(v.A,{key:e,value:e},w.TrackTypes[e])}))))}},21884:(e,t,n)=>{n.r(t),n.d(t,{TrackTypes:()=>g,default:()=>E});var r=n(60897),a=n(29412),o=n(15149),l=n(56231),c=n(90418),i=n(53894),u=n(95942),s=n(59950),f=n(99567),d=n(46406),m=n(10165),p=n(83751),y=n(7430),v=n(26009);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==b(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g={laps:"Laps",p2p:"Point to Point"};const E=function(e){var t=(0,a.wA)(),n=(0,s.Sk)(),b=(0,u.W6)(),g=(0,a.d4)(function(e){return e.race.tab}),E=(0,a.d4)(function(e){return e.data.data.onDuty}),A=(0,a.d4)(function(e){var t;return null===(t=e.data.data.player.Alias)||void 0===t?void 0:t.redline});(0,r.useEffect)(function(){var n,r;Boolean(null==e||null===(n=e.match)||void 0===n||null===(n=n.params)||void 0===n?void 0:n.tab)&&(t({type:"SET_RACE_TAB",payload:{tab:+(null==e||null===(r=e.match)||void 0===r||null===(r=r.params)||void 0===r?void 0:r.tab)}}),b.replace("/apps/redline"))},[e.match.params]);var w=n("redline","create"),k=(0,c.A)(function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main},header:{height:"5%",padding:10,fontSize:14,borderBottom:"1px solid ".concat(e.palette.border.divider),"& .name":{color:e.palette.primary.light},"& svg":{marginRight:5}},content:h(h(h(h(h({height:"88.75%",padding:15,overflowY:"auto",overflowX:"hidden"},"padding",10),"&::-webkit-scrollbar",{width:6}),"&::-webkit-scrollbar-thumb",{background:"#ffffff52"}),"&::-webkit-scrollbar-thumb:hover",{background:e.palette.primary.main}),"&::-webkit-scrollbar-track",{background:"transparent"}),tabPanel:{},phoneTab:{minWidth:w?"25%":"33.3%"}}})();return r.createElement("div",{className:k.wrapper},A?"police"==E?r.createElement(v.default,null):r.createElement(r.Fragment,null,r.createElement("div",{className:k.header},r.createElement(i.g,{icon:["fas","user"]}),"Welcome Back ",r.createElement("span",{className:"name"},A)),r.createElement("div",{className:k.content},r.createElement("div",{className:k.tabPanel,role:"tabpanel",hidden:0!==g,id:"tracks"},0===g&&r.createElement(d.default,null)),r.createElement("div",{className:k.tabPanel,role:"tabpanel",hidden:1!==g,id:"pending"},1===g&&r.createElement(m.default,null)),r.createElement("div",{className:k.tabPanel,role:"tabpanel",hidden:2!==g,id:"recent"},2===g&&r.createElement(p.default,null)),w&&r.createElement("div",{className:k.tabPanel,role:"tabpanel",hidden:3!==g,id:"create"},3===g&&r.createElement(y.default,null))),r.createElement("div",{className:k.tabs},r.createElement(o.A,{value:g,onChange:function(e,n){t({type:"SET_RACE_TAB",payload:{tab:n}})},indicatorColor:"primary",textColor:"primary",variant:"fullWidth",scrollButtons:!1},r.createElement(l.A,{className:k.phoneTab,label:"Tracks"}),r.createElement(l.A,{className:k.phoneTab,label:"Pending"}),r.createElement(l.A,{className:k.phoneTab,label:"Recent"}),r.createElement(l.A,{className:k.phoneTab,label:"Create"})))):r.createElement(f.default,null))}},26009:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var r=n(60897),a=n(29412),o=n(49193),l=n(90418),c=n(69654),i=n.n(c),u=(n(51734),n(59950));function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,l,c=[],i=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,a=e}finally{try{if(!i&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var d=(0,l.A)(function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main,textAlign:"center"},header:{fontSize:28,fontWeight:"bold",color:e.palette.primary.main,margin:"auto",position:"absolute",top:0,bottom:0,left:0,right:0,height:"fit-content",width:"fit-content"},body:{margin:"auto",position:"absolute",top:0,bottom:0,left:0,right:0,paddingTop:75,height:"fit-content",width:"fit-content"}}});const m=function(e){var t=d(),n=((0,u.MW)(),(0,a.wA)(),(0,a.d4)(function(e){return e.data.data.myState}),(0,a.d4)(function(e){var t;return null===(t=e.data.data.player.Alias)||void 0===t?void 0:t.redline}),s((0,r.useState)(!1),2)),l=n[0],c=n[1],f=function(){c(!0)};return r.createElement("div",{className:t.wrapper},r.createElement("div",{className:t.header},r.createElement(i(),{onTypingDone:f},r.createElement("span",null,"You Are Not Authorized"))),l&&r.createElement(o.A,{in:!0},r.createElement("div",{className:t.body},r.createElement(i(),{onTypingDone:f},r.createElement("span",null,"Immediately Stop What You Are Doing")))))}},46406:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});var r=n(60897),a=n(29412),o=n(54637),l=n(90680),c=n(39314),i=n(24492),u=n(73842),s=n(33625),f=n(31373),d=n(29699),m=n(31005),p=n(14250),y=n(71069),v=n(90418),b=n(53894),h=n(92593),g=n.n(h),E=n(83271),A=n(59950),w=n(51734),k=n(21884);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function T(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var i=r&&r.prototype instanceof c?r:c,u=Object.create(i.prototype);return N(u,"_invoke",function(n,r,a){var o,c,i,u=0,s=a||[],f=!1,d={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return o=t,c=0,i=e,d.n=n,l}};function m(n,r){for(c=n,i=r,t=0;!f&&u&&!a&&t<s.length;t++){var a,o=s[t],m=d.p,p=o[2];n>3?(a=p===r)&&(i=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=m&&((a=n<2&&m<o[1])?(c=0,d.v=r,d.n=o[1]):m<p&&(a=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,d.n=p,c=0))}if(a||n>1)return l;throw f=!0,r}return function(a,s,p){if(u>1)throw TypeError("Generator is already running");for(f&&1===s&&m(s,p),c=s,i=p;(t=c<2?e:i)||!f;){o||(c?c<3?(c>1&&(d.n=-1),m(c,i)):d.n=i:d.v=i);try{if(u=2,o){if(c||(a="next"),t=o[a]){if(!(t=t.call(o,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(i=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=e}else if((t=(f=d.n<0)?i:n.call(r,d))!==l)break}catch(t){o=e,c=1,i=t}finally{u=1}}return{value:t,done:f}}}(n,a,o),!0),u}var l={};function c(){}function i(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(N(t={},r,function(){return this}),t),f=u.prototype=c.prototype=Object.create(s);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,N(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return i.prototype=u,N(f,"constructor",u),N(u,"constructor",i),i.displayName="GeneratorFunction",N(u,a,"GeneratorFunction"),N(f),N(f,a,"Generator"),N(f,r,function(){return this}),N(f,"toString",function(){return"[object Generator]"}),(T=function(){return{w:o,m:d}})()}function N(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}N=function(e,t,n,r){function o(t,n){N(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},N(e,t,n,r)}function C(e,t,n,r,a,o,l){try{var c=e[o](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach(function(t){x(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function x(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=S(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==S(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,l,c=[],i=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,a=e}finally{try{if(!i&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var R=(0,v.A)(function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},track:{background:e.palette.secondary.dark},creatorInput:{marginBottom:10},buttons:{width:"100%",display:"flex",margin:"auto"},button:{width:"-webkit-fill-available",padding:20,color:e.palette.warning.main,"&:hover":{backgroundColor:"".concat(e.palette.warning.main,"14")}},buttonNegative:{width:"-webkit-fill-available",padding:20,color:e.palette.error.main,"&:hover":{backgroundColor:"".concat(e.palette.error.main,"14")}},buttonPositive:{width:"-webkit-fill-available",padding:20,color:e.palette.success.main,"&:hover":{backgroundColor:"".concat(e.palette.success.main,"14")}},emptyMsg:{width:"100%",textAlign:"center",fontSize:20,fontWeight:"bold",marginTop:"25%"}}});const I=function(e){var t=R(),n=(0,A.MW)(),v=(0,a.wA)(),h=(0,a.d4)(function(e){return e.data.data.tracks}),S=(0,a.d4)(function(e){return e.race.inRace}),N=(0,a.d4)(function(e){var t;return null===(t=e.data.data.player.Alias)||void 0===t?void 0:t.redline}),j=P((0,r.useState)(null),2),_=j[0],I=j[1],D=P((0,r.useState)(null),2),W=D[0],F=D[1],G=P((0,r.useState)(null),2),B=G[0],U=G[1],L=P((0,r.useState)({name:"",host:N,buyin:"",laps:1,dnf_start:"",dnf_time:"",countdown:"20"}),2),z=L[0],H=L[1],M=function(e){H(O(O({},z),{},x({},e.target.name,e.target.value)))},q=function(){var e,t=(e=T().m(function e(t){var r,a;return T().w(function(e){for(;;)switch(e.p=e.n){case 0:return t.preventDefault(),e.p=1,e.n=2,w.A.send("CreateRace",O(O({},z),{},{track:W._id}));case 2:return e.n=3,e.v.json();case 3:r=e.v,F(null),n(null!=r&&r.failed?r.message:"Race Created"),null!=r&&r.failed||v({type:"I_RACE",payload:{state:!0}}),e.n=5;break;case 4:e.p=4,a=e.v,console.log(a),F(null),n("Unable To Create Race");case 5:return e.a(2)}},e,null,[[1,4]])}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){C(o,r,a,l,c,"next",e)}function c(e){C(o,r,a,l,c,"throw",e)}l(void 0)})});return function(e){return t.apply(this,arguments)}}();return r.createElement("div",{className:t.wrapper},h.length>0?h.map(function(e,n){return r.createElement(o.A,{key:"track-".concat(n),className:t.track,expanded:_===n,onChange:_===n?function(){return I(null)}:function(){return I(n)}},r.createElement(l.A,{expandIcon:r.createElement(b.g,{icon:["fas","chevron-down"]})},r.createElement(c.A,{className:t.heading},e.Name),r.createElement(c.A,{className:t.secondaryHeading},e.Distance)),r.createElement(i.A,null,r.createElement(u.A,null,r.createElement(s.Ay,null,r.createElement(f.A,{primary:"Name",secondary:e.Name})),r.createElement(s.Ay,null,r.createElement(f.A,{primary:"Type",secondary:k.TrackTypes[e.Type]})),r.createElement(s.Ay,null,r.createElement(f.A,{primary:"Distance",secondary:e.Distance})))),r.createElement(d.A,null),r.createElement(m.A,null,r.createElement(p.A,{size:"small",color:"primary",onClick:function(){return U(e)}},"Lap Records"),r.createElement(p.A,{size:"small",color:"primary",disabled:S,onClick:function(){return F(e)}},"Create Race")))}):r.createElement("div",{className:t.emptyMsg},"No Tracks Available"),r.createElement(E.aF,{open:Boolean(B),title:"Lap Records",onClose:function(){return U(null)},closeLang:"Close"},Boolean(B)&&r.createElement(u.A,null,Boolean(B.Fastest)&&B.Fastest.length>0?B.Fastest.map(function(e,t){var n=g().duration(e.lapEnd-e.lapStart);return r.createElement(s.Ay,{key:"".concat(B._id,"-").concat(t)},r.createElement(f.A,{primary:"#".concat(t+1," ").concat(e.alias," - ").concat(e.car),secondary:"".concat(String(n.hours()).padStart(2,"0"),":").concat(String(n.minutes()).padStart(2,"0"),":").concat(String(n.seconds()).padStart(2,"0"),":").concat(String(n.milliseconds()).padStart(3,"0"))}))}):r.createElement(s.Ay,null,r.createElement(f.A,{primary:"No Lap Records"})))),r.createElement(E.aF,{form:!0,open:Boolean(W),title:"Create Race",onClose:function(){return F(null)},onAccept:q,submitLang:"Create Race",closeLang:"Cancel"},Boolean(W)&&r.createElement(r.Fragment,null,r.createElement(y.A,{className:t.creatorInput,fullWidth:!0,label:"Host",name:"host",variant:"outlined",disabled:!0,value:N,required:!0}),r.createElement(y.A,{className:t.creatorInput,fullWidth:!0,label:"Track",name:"track",variant:"outlined",disabled:!0,value:W.Name,required:!0}),r.createElement(y.A,{className:t.creatorInput,fullWidth:!0,label:"Event Name",name:"name",variant:"outlined",value:z.name,onChange:M,required:!0,inputProps:{maxLength:32}}),r.createElement(y.A,{className:t.creatorInput,fullWidth:!0,label:"# of Laps",name:"laps",variant:"outlined",type:"number",disabled:"p2p"==W.Type,value:z.laps,onChange:M,required:!0}),r.createElement(y.A,{className:t.creatorInput,fullWidth:!0,label:"Countdown",name:"countdown",variant:"outlined",type:"number",value:z.countdown,onChange:M,required:!0}),r.createElement(y.A,{required:!0,fullWidth:!0,className:t.creatorInput,label:"Buy In",name:"buyin",variant:"outlined",value:z.buyin,onChange:M,InputProps:{inputComponent:E.UG}}),r.createElement(y.A,{className:t.creatorInput,fullWidth:!0,label:"DNF Start",name:"dnf_start",variant:"outlined",type:"number",value:z.dnf_start,onChange:M,required:!0}),r.createElement(y.A,{className:t.creatorInput,fullWidth:!0,label:"DNF Time",name:"dnf_time",variant:"outlined",type:"number",value:z.dnf_time,onChange:M,required:!0}))))}},83751:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var r=n(60897),a=n(29412),o=n(54637),l=n(90680),c=n(39314),i=n(24492),u=n(73842),s=n(33625),f=n(31373),d=n(14250),m=n(90418),p=n(53894),y=n(92593),v=n.n(y),b=n(83271);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,l,c=[],i=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,a=e}finally{try{if(!i&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var E=(0,m.A)(function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary,"& span":{marginLeft:5,fontSize:12,color:e.palette.text.alt,"&::before":{content:'"("'},"&::after":{content:'")"'}}},track:{background:e.palette.secondary.dark},youindic:{color:"gold"},emptyMsg:{width:"100%",textAlign:"center",fontSize:20,fontWeight:"bold",marginTop:"25%"},owned:{color:"gold",marginLeft:5}}});const A=function(e){var t=E(),n=(0,a.d4)(function(e){var t;return null===(t=e.data.data.player.Alias)||void 0===t?void 0:t.redline}),m=(0,a.d4)(function(e){return e.data.data.tracks}),y=(0,a.d4)(function(e){return e.race.races}).filter(function(e){return 2==e.state}).sort(function(e,t){return t.time-e.time}),g=h((0,r.useState)(null),2),A=g[0],w=g[1],k=h((0,r.useState)(null),2),S=k[0],T=k[1];return r.createElement("div",{className:t.wrapper},r.createElement("div",null,y.length>0?y.map(function(e,a){var y=m.filter(function(t){return t._id==e.track})[0];return y?r.createElement(o.A,{key:"race-".concat(a),className:t.track,expanded:S===a,onChange:S===a?function(){return T(null)}:function(){return T(a)}},r.createElement(l.A,{expandIcon:r.createElement(p.g,{icon:["fas","chevron-down"]})},r.createElement(c.A,{className:t.heading},e.name,null!=e.racers[n]&&r.createElement("span",{className:t.youindic},"*")),r.createElement(c.A,{className:t.secondaryHeading},y.Name)),r.createElement(i.A,null,r.createElement(u.A,null,r.createElement(s.Ay,null,r.createElement(f.A,{primary:"Name",secondary:e.name})),r.createElement(s.Ay,null,r.createElement(f.A,{primary:"Host",secondary:"".concat(e.host)})),r.createElement(s.Ay,null,r.createElement(f.A,{primary:"Track",secondary:"".concat(y.Name," (").concat(y.Distance,")")})),r.createElement(s.Ay,null,r.createElement(f.A,{primary:"# of Laps",secondary:e.laps})),r.createElement(s.Ay,null,r.createElement(f.A,{primary:"Racers",secondary:Object.keys(e.racers).length>0?"".concat(Object.keys(e.racers).length," Racers"):null})),r.createElement(s.Ay,null,r.createElement(u.A,null,r.createElement(s.Ay,null,r.createElement(d.A,{variant:"contained",color:"primary",onClick:function(){return w(e)}},"View Racers"))))))):null}):r.createElement("div",{className:t.emptyMsg},"No Recent Races"),r.createElement(b.aF,{open:null!=A,title:"Race Results",onClose:function(){return w(null)}},null!=A&&r.createElement(u.A,null,Object.keys(A.racers).filter(function(e){return A.racers[e].finished}).sort(function(e,t){var n,r;return(null===(n=A.racers[e])||void 0===n?void 0:n.place)-(null===(r=A.racers[t])||void 0===r?void 0:r.place)}).map(function(e){var n=v().duration(A.racers[e].fastest.lapEnd-A.racers[e].fastest.lapStart);return r.createElement(s.Ay,null,r.createElement(f.A,{primary:r.createElement("span",null,"#".concat(A.racers[e].place," ").concat(e),Boolean(A.racers[e].isOwned)&&r.createElement(p.g,{className:t.owned,icon:["fas","award"]})),secondary:r.createElement("div",null,r.createElement("span",null,"Cash: $".concat(A.racers[e].reward.cash).concat(A.racers[e].reward.crypto>0?", $".concat(A.racers[e].reward.coin,": ").concat(A.racers[e].reward.crypto):"")),r.createElement("div",null,"Fastest Lap:"," ","".concat(String(n.hours()).padStart(2,"0"),":").concat(String(n.minutes()).padStart(2,"0"),":").concat(String(n.seconds()).padStart(2,"0"),":").concat(String(n.milliseconds()).padStart(3,"0"))))}))}),Object.keys(A.racers).filter(function(e){return!A.racers[e].finished}).map(function(e){return r.createElement(s.Ay,null,r.createElement(f.A,{primary:"".concat(e),secondary:"DNF"}))})))))}},99567:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var r=n(60897),a=n(29412),o=n(49193),l=n(71069),c=n(14250),i=n(90418),u=n(69654),s=n.n(u),f=n(51734),d=n(59950);function m(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var i=r&&r.prototype instanceof c?r:c,u=Object.create(i.prototype);return p(u,"_invoke",function(n,r,a){var o,c,i,u=0,s=a||[],f=!1,d={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return o=t,c=0,i=e,d.n=n,l}};function m(n,r){for(c=n,i=r,t=0;!f&&u&&!a&&t<s.length;t++){var a,o=s[t],m=d.p,p=o[2];n>3?(a=p===r)&&(i=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=m&&((a=n<2&&m<o[1])?(c=0,d.v=r,d.n=o[1]):m<p&&(a=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,d.n=p,c=0))}if(a||n>1)return l;throw f=!0,r}return function(a,s,p){if(u>1)throw TypeError("Generator is already running");for(f&&1===s&&m(s,p),c=s,i=p;(t=c<2?e:i)||!f;){o||(c?c<3?(c>1&&(d.n=-1),m(c,i)):d.n=i:d.v=i);try{if(u=2,o){if(c||(a="next"),t=o[a]){if(!(t=t.call(o,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(i=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=e}else if((t=(f=d.n<0)?i:n.call(r,d))!==l)break}catch(t){o=e,c=1,i=t}finally{u=1}}return{value:t,done:f}}}(n,a,o),!0),u}var l={};function c(){}function i(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(p(t={},r,function(){return this}),t),f=u.prototype=c.prototype=Object.create(s);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,p(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return i.prototype=u,p(f,"constructor",u),p(u,"constructor",i),i.displayName="GeneratorFunction",p(u,a,"GeneratorFunction"),p(f),p(f,a,"Generator"),p(f,r,function(){return this}),p(f,"toString",function(){return"[object Generator]"}),(m=function(){return{w:o,m:d}})()}function p(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}p=function(e,t,n,r){function o(t,n){p(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},p(e,t,n,r)}function y(e,t,n,r,a,o,l){try{var c=e[o](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,l,c=[],i=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,a=e}finally{try{if(!i&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var h=(0,i.A)(function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main,textAlign:"center"},header:{fontSize:28,fontWeight:"bold",color:e.palette.primary.main},body:{padding:30}}});const g=function(e){var t=h(),n=(0,d.MW)(),i=(0,a.wA)(),u=((0,a.d4)(function(e){return e.data.data.myState}),(0,a.d4)(function(e){var t;return null===(t=e.data.data.player.Alias)||void 0===t?void 0:t.redline}),v((0,r.useState)(!1),2)),p=u[0],b=u[1],g=function(){var e,t=(e=m().m(function e(t){var r,a,o;return m().w(function(e){for(;;)switch(e.p=e.n){case 0:return t.preventDefault(),r=t.target.alias.value,e.p=1,e.n=2,f.A.send("UpdateAlias",{app:"redline",alias:r,unique:!0});case 2:return e.n=3,e.v.json();case 3:a=e.v,n(a?"Alias Created":"Unable to Create Alias"),a&&i({type:"UPDATE_DATA",payload:{type:"player",id:"Alias",key:"redline",data:r}}),e.n=5;break;case 4:e.p=4,o=e.v,console.log(o),n("Unable to Create Alias");case 5:return e.a(2)}},e,null,[[1,4]])}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){y(o,r,a,l,c,"next",e)}function c(e){y(o,r,a,l,c,"throw",e)}l(void 0)})});return function(e){return t.apply(this,arguments)}}();return r.createElement("div",{className:t.wrapper},r.createElement("div",{className:t.header},r.createElement(s(),{onTypingDone:function(){b(!0)}},r.createElement("span",null,"Welcome Racer"))),r.createElement(o.A,{in:p},r.createElement("div",{className:t.body},r.createElement("p",null,"Set your alias to get started"),r.createElement("form",{onSubmit:g},r.createElement(l.A,{className:t.creatorInput,fullWidth:!0,label:"Alias",name:"alias",variant:"outlined",required:!0,inputProps:{maxLength:32}}),r.createElement(c.A,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Submit")),r.createElement("p",null,r.createElement("code",null,"Think hard, you may not change this")))))}}}]);