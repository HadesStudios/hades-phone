"use strict";(self.webpackChunkhades_phone=self.webpackChunkhades_phone||[]).push([[1991,3732],{51351:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var r=n(60897),a=n(29412),o=n(95942),i=n(59773),l=n(64990),c=n(90418),f=n(20121),u=n.n(f),s=n(91991),p=n(53894),m=(0,c.A)(function(e){return{convo:{background:e.palette.secondary.dark,padding:15,marginBottom:12,borderRadius:12,display:"flex",alignItems:"center",gap:15,cursor:"pointer",transition:"all 0.2s ease","&:hover":{opacity:.9}},avatarContainer:{position:"relative"},avatar:{color:"#ffffff",background:"#6b7280",height:60,width:60,fontSize:24,fontWeight:"600"},avatarUnread:{color:"#ffffff",background:e.palette.primary.main,height:60,width:60,fontSize:24,fontWeight:"600"},contentContainer:{flex:1,minWidth:0},topRow:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:6},sender:{fontSize:16,color:"#aaa",fontWeight:"500"},senderUnread:{fontSize:16,color:e.palette.primary.main,fontWeight:"600"},time:{fontSize:12,color:"#888"},subject:{fontSize:18,color:"#ffffff",fontWeight:"600",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginBottom:4},body:{fontSize:14,color:"#aaa",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},specialIcon:{fontSize:18,color:"#ef4444",marginLeft:8}}});const d=(0,a.Ng)(null,{DeleteEmail:s.DeleteEmail})(function(e){var t,n,a=m(),c=(0,o.W6)();return(0,r.useEffect)(function(){var t=null;return null!=e.email.flags&&null!=e.email.flags.expires&&(t=setInterval(function(){e.email.flags.expires<Date.now()&&e.DeleteEmail(e.email._id)},2500)),function(){clearInterval(t)}},[]),r.createElement(i.A,{className:a.convo,onClick:function(){c.push("/apps/email/view/".concat(e.email._id))},elevation:0},r.createElement("div",{className:a.avatarContainer},r.createElement(l.A,{className:e.email.unread?a.avatarUnread:a.avatar},null!==(t=null===(n=e.email.sender)||void 0===n||null===(n=n.charAt(0))||void 0===n?void 0:n.toUpperCase())&&void 0!==t?t:"?")),r.createElement("div",{className:a.contentContainer},r.createElement("div",{className:a.topRow},r.createElement("span",{className:e.email.unread?a.senderUnread:a.sender},e.email.sender),r.createElement("div",{className:a.time},r.createElement(u(),{interval:6e4,fromNow:!0},+e.email.time))),r.createElement("div",{className:a.subject},e.email.subject,null!=e.email.flags&&r.createElement(p.g,{className:a.specialIcon,icon:["fas","flag"]}))))})},91991:(e,t,n)=>{n.r(t),n.d(t,{DeleteEmail:()=>f,GPSRoute:()=>u,Hyperlink:()=>s,ReadEmail:()=>c});var r=n(51734);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(e){return function(t){r.A.send("ReadEmail",e._id).then(function(n){t({type:"UPDATE_DATA",payload:{type:"emails",id:e._id,data:i(i({},e),{},{unread:!1})}})}).catch(function(e){})}},f=function(e){return function(t){r.A.send("DeleteEmail",e).then(function(){return t({type:"REMOVE_DATA",payload:{type:"emails",id:e}}),!0}).catch(function(e){return!1})}},u=function(e,t){return function(n){r.A.send("GPSRoute",{id:e,location:t}).then(function(e){n({type:"ALERT_SHOW",payload:{alert:"GPS Marked"}})}).catch(function(e){n({type:"ALERT_SHOW",payload:{alert:"Unable To Mark Location On GPS"}})})}},s=function(e,t){return function(n){r.A.send("Hyperlink",{id:e,hyperlink:t}).catch(function(e){n({type:"ALERT_SHOW",payload:{alert:"Unable To Open Hyperlink"}})})}}}}]);