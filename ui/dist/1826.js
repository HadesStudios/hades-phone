"use strict";(self.webpackChunkhades_phone=self.webpackChunkhades_phone||[]).push([[1826],{21826:(n,e,t)=>{t.r(e),t.d(e,{default:()=>k});var l=t(60897),a=t(29412),o=t(95942),r=t(54637),c=t(59773),i=t(90680),u=t(3724),s=t(64990),m=t(24492),d=t(45292),p=t(90418),f=t(53894),v=t(20121),h=t.n(v),y=t(51734),g=t(59950);function b(){var n,e,t="function"==typeof Symbol?Symbol:{},l=t.iterator||"@@iterator",a=t.toStringTag||"@@toStringTag";function o(t,l,a,o){var i=l&&l.prototype instanceof c?l:c,u=Object.create(i.prototype);return x(u,"_invoke",function(t,l,a){var o,c,i,u=0,s=a||[],m=!1,d={p:0,n:0,v:n,a:p,f:p.bind(n,4),d:function(e,t){return o=e,c=0,i=n,d.n=t,r}};function p(t,l){for(c=t,i=l,e=0;!m&&u&&!a&&e<s.length;e++){var a,o=s[e],p=d.p,f=o[2];t>3?(a=f===l)&&(i=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=n):o[0]<=p&&((a=t<2&&p<o[1])?(c=0,d.v=l,d.n=o[1]):p<f&&(a=t<3||o[0]>l||l>f)&&(o[4]=t,o[5]=l,d.n=f,c=0))}if(a||t>1)return r;throw m=!0,l}return function(a,s,f){if(u>1)throw TypeError("Generator is already running");for(m&&1===s&&p(s,f),c=s,i=f;(e=c<2?n:i)||!m;){o||(c?c<3?(c>1&&(d.n=-1),p(c,i)):d.n=i:d.v=i);try{if(u=2,o){if(c||(a="next"),e=o[a]){if(!(e=e.call(o,i)))throw TypeError("iterator result is not an object");if(!e.done)return e;i=e.value,c<2&&(c=0)}else 1===c&&(e=o.return)&&e.call(o),c<2&&(i=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=n}else if((e=(m=d.n<0)?i:t.call(l,d))!==r)break}catch(e){o=n,c=1,i=e}finally{u=1}}return{value:e,done:m}}}(t,a,o),!0),u}var r={};function c(){}function i(){}function u(){}e=Object.getPrototypeOf;var s=[][l]?e(e([][l]())):(x(e={},l,function(){return this}),e),m=u.prototype=c.prototype=Object.create(s);function d(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,u):(n.__proto__=u,x(n,a,"GeneratorFunction")),n.prototype=Object.create(m),n}return i.prototype=u,x(m,"constructor",u),x(u,"constructor",i),i.displayName="GeneratorFunction",x(u,a,"GeneratorFunction"),x(m),x(m,a,"Generator"),x(m,l,function(){return this}),x(m,"toString",function(){return"[object Generator]"}),(b=function(){return{w:o,m:d}})()}function x(n,e,t,l){var a=Object.defineProperty;try{a({},"",{})}catch(n){a=0}x=function(n,e,t,l){function o(e,t){x(n,e,function(n){return this._invoke(e,t,n)})}e?a?a(n,e,{value:t,enumerable:!l,configurable:!l,writable:!l}):n[e]=t:(o("next",0),o("throw",1),o("return",2))},x(n,e,t,l)}function E(n,e,t,l,a,o,r){try{var c=n[o](r),i=c.value}catch(n){return void t(n)}c.done?e(i):Promise.resolve(i).then(l,a)}var w=(0,d.A)({root:{border:"1px solid rgba(0, 0, 0, .25)",boxShadow:"none","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&$expanded":{margin:"auto"}},expanded:{}})(r.A),A=(0,p.A)(function(n){return{contact:{"&::before":{background:"transparent !important"},background:n.palette.secondary.dark,"&:hover":{background:n.palette.secondary.main,transition:"background ease-in 0.15s",cursor:"pointer"}},paper:{background:n.palette.secondary.dark},expandoContainer:{textAlign:"center",fontSize:30},expandoItem:{"&:hover":{color:n.palette.primary.main,transition:"color ease-in 0.15s"}},avatar:{color:"#fff",height:45,width:45},avatarFav:{color:"#fff",height:45,width:45,border:"2px solid gold"},contactName:{fontSize:18,color:n.palette.text.light},contactNumber:{fontSize:16,color:n.palette.text.main},expanded:{margin:0},missedIcon:{height:16,width:16,color:n.palette.error.main},incomingIcon:{height:16,width:16,color:"#5ec750"},outgoingIcon:{height:16,width:16,color:"#50a2c7"},callDate:{textAlign:"right",fontSize:12}}});const k=function(n){var e,t,r,d,p,v,x,k,N,C,I,S,j,O,_,T,F,G,P,z,U,D,W=A(),B=(0,o.W6)(),M=(0,g.MW)(),$=(0,a.d4)(function(n){return n.data.data.contacts}),q=(0,a.d4)(function(n){return n.call.call}),H=((0,a.d4)(function(n){return n.data.data.player}),$.filter(function(e){return e.number===n.call.number})[0]),J=function(){var e,t=(e=b().m(function e(){var t,l,a;return b().w(function(e){for(;;)switch(e.p=e.n){case 0:if(null!=q||null!=n&&null!==(t=n.call)&&void 0!==t&&t.limited||null!=n&&null!==(l=n.call)&&void 0!==l&&l.anonymous){e.n=5;break}return e.p=1,e.n=2,y.A.send("CreateCall",{number:n.call.number,isAnon:!1});case 2:return e.n=3,e.v.json();case 3:e.v?B.push("/apps/phone/call/".concat(n.call.number)):M("Unable To Start Call"),e.n=5;break;case 4:e.p=4,a=e.v,console.log(a),M("Unable To Start Call");case 5:return e.a(2)}},e,null,[[1,4]])}),function(){var n=this,t=arguments;return new Promise(function(l,a){var o=e.apply(n,t);function r(n){E(o,l,a,r,c,"next",n)}function c(n){E(o,l,a,r,c,"throw",n)}r(void 0)})});return function(){return t.apply(this,arguments)}}();return null!=n&&null!==(e=n.call)&&void 0!==e&&e.limited&&null!=n&&null!==(t=n.call)&&void 0!==t&&t.method?null:l.createElement(c.A,{className:W.paper},l.createElement(w,{className:W.contact,expanded:!(n.expanded!=n.index||null!=n&&null!==(r=n.call)&&void 0!==r&&r.limited||null!=n&&null!==(d=n.call)&&void 0!==d&&d.anonymous),onChange:n.onClick},l.createElement(i.A,{expandIcon:null!=n&&null!==(p=n.call)&&void 0!==p&&p.limited||null!=n&&null!==(v=n.call)&&void 0!==v&&v.anonymous?null:l.createElement(f.g,{icon:["fas","chevron-down"]})},l.createElement(u.Ay,{container:!0},l.createElement(u.Ay,{item:!0,xs:2},null!=n&&null!==(x=n.call)&&void 0!==x&&x.limited||null!=n&&null!==(k=n.call)&&void 0!==k&&k.anonymous||null==H||null==H.avatar||""===H.avatar?l.createElement(s.A,{className:null!=n&&null!==(N=n.call)&&void 0!==N&&N.limited||null!=n&&null!==(C=n.call)&&void 0!==C&&C.anonymous||null==H||!H.favorite?W.avatar:W.avatarFav,style:{background:null!=n&&null!==(I=n.call)&&void 0!==I&&I.limited||null!=n&&null!==(S=n.call)&&void 0!==S&&S.anonymous||null==H||!H.color?"#333":H.color}},null!=n&&null!==(j=n.call)&&void 0!==j&&j.limited||null!=n&&null!==(O=n.call)&&void 0!==O&&O.anonymous||null==H?null!=n&&null!==(_=n.call)&&void 0!==_&&_.limited?"?":"#":H.name.charAt(0)):l.createElement(s.A,{className:H.favorite?W.avatarFav:W.avatar,src:H.avatar,alt:H.name.charAt(0)})),l.createElement(u.Ay,{item:!0,xs:10},l.createElement("div",{className:W.contactName},null!=n&&null!==(T=n.call)&&void 0!==T&&T.limited||null!=n&&null!==(F=n.call)&&void 0!==F&&F.anonymous||null==H?"Unknown Caller":H.name),l.createElement(u.Ay,{container:!0,className:W.contactNumber},l.createElement(u.Ay,{item:!0,xs:6},(D=n.call).duration<-1?D.method?l.createElement(f.g,{icon:["fas","phone-arrow-up-right"],className:W.outgoingIcon}):l.createElement(f.g,{icon:["fas","phone-arrow-down-left"],className:W.incomingIcon}):D.method?l.createElement(f.g,{icon:["fas","phone-arrow-up-right"],className:W.missedIcon}):l.createElement(f.g,{icon:["fas","phone-missed"],className:W.missedIcon})," ",null!=n&&null!==(G=n.call)&&void 0!==G&&G.limited||null!=n&&null!==(P=n.call)&&void 0!==P&&P.anonymous?"Unknown Number":n.call.number),l.createElement(u.Ay,{item:!0,xs:6,className:W.callDate},l.createElement(h(),{fromNow:!0},+n.call.time)))))),l.createElement(m.A,null,!(null!=n&&null!==(z=n.call)&&void 0!==z&&z.limited)&&!(null!=n&&null!==(U=n.call)&&void 0!==U&&U.anonymous)&&l.createElement(u.Ay,{container:!0,className:W.expandoContainer},l.createElement(u.Ay,{item:!0,xs:4,className:W.expandoItem,onClick:J},l.createElement(f.g,{icon:"phone"})),l.createElement(u.Ay,{item:!0,xs:4,className:W.expandoItem,onClick:function(){var e,t;null!=n&&null!==(e=n.call)&&void 0!==e&&e.limited||null!=n&&null!==(t=n.call)&&void 0!==t&&t.anonymous||B.push("/apps/messages/convo/".concat(n.call.number))}},l.createElement(f.g,{icon:"message-sms"})),null!=H?l.createElement(u.Ay,{item:!0,xs:4,onClick:function(){var e,t;null!=n&&null!==(e=n.call)&&void 0!==e&&e.limited||null!=n&&null!==(t=n.call)&&void 0!==t&&t.anonymous||B.push("/apps/contacts/edit/".concat(H._id))}},l.createElement(f.g,{icon:"user-pen"})):l.createElement(u.Ay,{item:!0,xs:4,className:W.expandoItem,onClick:function(){var e,t;null!=n&&null!==(e=n.call)&&void 0!==e&&e.limited||null!=n&&null!==(t=n.call)&&void 0!==t&&t.anonymous||B.push("/apps/contacts/add/".concat(n.call.number))}},l.createElement(f.g,{icon:"user-plus"}))))))}}}]);