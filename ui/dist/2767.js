"use strict";(self.webpackChunkhades_phone=self.webpackChunkhades_phone||[]).push([[2562,2767,4065,8044],{18044:(t,e,n)=>{n.r(e),n.d(e,{default:()=>s});var r=n(60897),a=n(29412),o=n(95942),c=n(90418),l=(n(53894),n(72562));function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,o,c,l=[],i=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);i=!0);}catch(t){u=!0,a=t}finally{try{if(!i&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(u)throw a}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return u(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var f=(0,c.A)(function(t){return{wrapper:{height:"100%",background:t.palette.secondary.main},emptyMsg:{width:"100%",textAlign:"center",fontSize:20,fontWeight:"bold",marginTop:"25%"}}});const s=function(t){var e=f(),n=((0,o.W6)(),(0,a.d4)(function(t){return t.data.data}).contacts),c=i((0,r.useState)(-1),2),u=c[0],s=c[1],d=function(t){return function(e,n){s(!!n&&t)}};return r.createElement("div",{className:e.wrapper},n.length>0?r.createElement(r.Fragment,null,n.filter(function(t){return t.favorite}).sort(function(t,e){return t.name.toLowerCase()>e.name.toLowerCase()?1:e.name.toLowerCase()>t.name.toLowerCase()?-1:0}).map(function(t){return r.createElement(l.default,{key:t._id,contact:t,expanded:u,index:t._id,onClick:d(t._id)})}),n.filter(function(t){return!t.favorite}).sort(function(t,e){return t.name>e.name?1:e.name>t.name?-1:0}).map(function(t){return r.createElement(l.default,{key:t._id,contact:t,expanded:u,index:t._id,onClick:d(t._id)})})):r.createElement("div",{className:e.emptyMsg},"You Have No Recent Contacts"))}},64065:(t,e,n)=>{n.r(e),n.d(e,{default:()=>f});var r=n(60897),a=n(29412),o=n(90418),c=(n(53894),n(21826));function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,o,c,l=[],i=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);i=!0);}catch(t){u=!0,a=t}finally{try{if(!i&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(u)throw a}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var u=(0,o.A)(function(t){return{wrapper:{height:"100%",background:t.palette.secondary.main},emptyMsg:{width:"100%",textAlign:"center",fontSize:20,fontWeight:"bold",marginTop:"25%"}}});const f=function(t){var e=u(),n=(0,a.d4)(function(t){return t.data.data.calls}),o=l((0,r.useState)(-1),2),i=o[0],f=o[1];return r.createElement("div",{className:e.wrapper},n.filter(function(t){return Boolean(t)}).length>0?n.filter(function(t){return Boolean(t)}).sort(function(t,e){return e.time-t.time}).map(function(t,e){return r.createElement(c.default,{key:e,expanded:i,index:e,call:t,onClick:(n=e,function(t,e){f(e?n:-1)})});var n}):r.createElement("div",{className:e.emptyMsg},"You Have No Recent Calls"))}},72562:(t,e,n)=>{n.r(e),n.d(e,{default:()=>v});var r=n(60897),a=n(29412),o=n(95942),c=n(59773),l=n(64990),i=n(90418),u=n(53894),f=n(51734);function s(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var i=r&&r.prototype instanceof l?r:l,u=Object.create(i.prototype);return d(u,"_invoke",function(n,r,a){var o,l,i,u=0,f=a||[],s=!1,d={p:0,n:0,v:t,a:m,f:m.bind(t,4),d:function(e,n){return o=e,l=0,i=t,d.n=n,c}};function m(n,r){for(l=n,i=r,e=0;!s&&u&&!a&&e<f.length;e++){var a,o=f[e],m=d.p,p=o[2];n>3?(a=p===r)&&(i=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=t):o[0]<=m&&((a=n<2&&m<o[1])?(l=0,d.v=r,d.n=o[1]):m<p&&(a=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,d.n=p,l=0))}if(a||n>1)return c;throw s=!0,r}return function(a,f,p){if(u>1)throw TypeError("Generator is already running");for(s&&1===f&&m(f,p),l=f,i=p;(e=l<2?t:i)||!s;){o||(l?l<3?(l>1&&(d.n=-1),m(l,i)):d.n=i:d.v=i);try{if(u=2,o){if(l||(a="next"),e=o[a]){if(!(e=e.call(o,i)))throw TypeError("iterator result is not an object");if(!e.done)return e;i=e.value,l<2&&(l=0)}else 1===l&&(e=o.return)&&e.call(o),l<2&&(i=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=t}else if((e=(s=d.n<0)?i:n.call(r,d))!==c)break}catch(e){o=t,l=1,i=e}finally{u=1}}return{value:e,done:s}}}(n,a,o),!0),u}var c={};function l(){}function i(){}function u(){}e=Object.getPrototypeOf;var f=[][r]?e(e([][r]())):(d(e={},r,function(){return this}),e),m=u.prototype=l.prototype=Object.create(f);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,d(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t}return i.prototype=u,d(m,"constructor",u),d(u,"constructor",i),i.displayName="GeneratorFunction",d(u,a,"GeneratorFunction"),d(m),d(m,a,"Generator"),d(m,r,function(){return this}),d(m,"toString",function(){return"[object Generator]"}),(s=function(){return{w:o,m:p}})()}function d(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}d=function(t,e,n,r){function o(e,n){d(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},d(t,e,n,r)}function m(t,e,n,r,a,o,c){try{var l=t[o](c),i=l.value}catch(t){return void n(t)}l.done?e(i):Promise.resolve(i).then(r,a)}var p=(0,i.A)(function(t){return{paper:{background:t.palette.secondary.dark,borderRadius:8,marginBottom:15,padding:"15px 20px"},container:{display:"flex",alignItems:"center",gap:15},avatar:{color:"#fff",height:60,width:60},avatarFav:{color:"#fff",height:60,width:60,border:"3px solid #f59e0b"},contactInfo:{flex:1},contactName:{fontSize:18,color:"#ffffff",fontWeight:"600",marginBottom:4},contactNumber:{fontSize:14,color:t.palette.text.alt},buttonsContainer:{display:"flex",gap:8},actionButton:{width:45,height:45,borderRadius:8,display:"flex",alignItems:"center",justifyContent:"center",fontSize:18,color:"#ffffff",cursor:"pointer",transition:"all 0.2s ease","&:hover":{opacity:.8}},callButton:{backgroundColor:"#60D6C5"},smsButton:{backgroundColor:"#60D6C5"},editButton:{backgroundColor:"#6b7280"},deleteButton:{backgroundColor:"#6b7280"}}});const v=function(t){var e=p(),n=(0,o.W6)(),i=(0,a.d4)(function(t){return t.call.call}),d=function(){var e,r=(e=s().m(function e(){var r;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:if(null!=i){e.n=5;break}return e.p=1,e.n=2,f.A.send("CreateCall",{number:t.contact.number,isAnon:!1});case 2:return e.n=3,e.v.json();case 3:e.v?n.push("/apps/phone/call/".concat(t.contact.number)):showAlert("Unable To Start Call"),e.n=5;break;case 4:e.p=4,r=e.v,console.log(r),showAlert("Unable To Start Call");case 5:return e.a(2)}},e,null,[[1,4]])}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function c(t){m(o,r,a,c,l,"next",t)}function l(t){m(o,r,a,c,l,"throw",t)}c(void 0)})});return function(){return r.apply(this,arguments)}}();return r.createElement(c.A,{className:e.paper},r.createElement("div",{className:e.container},null!=t.contact.avatar&&""!==t.contact.avatar?r.createElement(l.A,{className:t.contact.favorite?e.avatarFav:e.avatar,src:t.contact.avatar,alt:t.contact.name.charAt(0)}):r.createElement(l.A,{className:t.contact.favorite?e.avatarFav:e.avatar,style:{background:t.contact.color}},t.contact.name.charAt(0)),r.createElement("div",{className:e.contactInfo},r.createElement("div",{className:e.contactName},t.contact.name),r.createElement("div",{className:e.contactNumber},t.contact.number)),r.createElement("div",{className:e.buttonsContainer},r.createElement("div",{className:"".concat(e.actionButton," ").concat(e.callButton),onClick:d},r.createElement(u.g,{icon:"phone"})),r.createElement("div",{className:"".concat(e.actionButton," ").concat(e.smsButton),onClick:function(){n.push("/apps/messages/convo/".concat(t.contact.number))}},r.createElement(u.g,{icon:"comment-sms"})),r.createElement("div",{className:"".concat(e.actionButton," ").concat(e.editButton),onClick:function(){n.push("/apps/contacts/edit/".concat(t.contact._id))}},r.createElement(u.g,{icon:"user-pen"})),null!=t.onDelete&&r.createElement("div",{className:"".concat(e.actionButton," ").concat(e.deleteButton),onClick:t.onDelete},r.createElement(u.g,{icon:"user-minus"})))))}},82767:(t,e,n)=>{n.r(e),n.d(e,{default:()=>b});var r=n(60897),a=n(29412),o=n(95942),c=n(15149),l=n(56231),i=n(90418),u=n(26263),f=n(64065),s=n(18044),d=n(14471);function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,o,c,l=[],i=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);i=!0);}catch(t){u=!0,a=t}finally{try{if(!i&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(u)throw a}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return p(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var v=(0,i.A)(function(t){return{wrapper:{height:"100%",background:t.palette.secondary.main},limitedWrapper:{height:"101%",background:t.palette.secondary.main},content:{height:"93.75%",overflowY:"auto",overflowX:"hidden","&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-thumb":{background:"#ffffff52"},"&::-webkit-scrollbar-thumb:hover":{background:t.palette.primary.main},"&::-webkit-scrollbar-track":{background:"transparent"}},tabPanel:{height:"100%"},phoneTab:{minWidth:"33.3%"}}});const b=(0,a.Ng)(null,{readCalls:d.readCalls})(function(t){var e=v(),n=(0,o.W6)(),i=(0,a.d4)(function(t){return t.phone.limited}),d=(0,a.d4)(function(t){return t.call.call}),p=(0,a.d4)(function(t){return t.data.data.calls});(0,r.useEffect)(function(){p.filter(function(t){return Boolean(t)&&t.unread}).length>0&&t.readCalls()},[p]);var b=m((0,r.useState)(1),2),h=b[0],y=b[1];(0,r.useEffect)(function(){null!=d&&1!=d.state&&n.push("/apps/phone/call/".concat(d.number))},[]);return r.createElement(r.Fragment,null,i?r.createElement("div",{className:e.limitedWrapper},r.createElement(u.default,null)):r.createElement("div",{className:e.wrapper},r.createElement("div",{className:e.content},r.createElement("div",{className:e.tabPanel,role:"tabpanel",hidden:0!==h,id:"recent"},0===h&&r.createElement(f.default,null)),r.createElement("div",{className:e.tabPanel,role:"tabpanel",hidden:1!==h,id:"keypad"},1===h&&r.createElement(u.default,null)),r.createElement("div",{className:e.tabPanel,role:"tabpanel",hidden:2!==h,id:"contacts"},2===h&&r.createElement(s.default,null))),r.createElement("div",{className:e.tabs},r.createElement(c.A,{value:h,onChange:function(t,e){y(e)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:!1},r.createElement(l.A,{className:e.phoneTab,label:"Recent"}),r.createElement(l.A,{className:e.phoneTab,label:"Keypad"}),r.createElement(l.A,{className:e.phoneTab,label:"Contacts"})))))})}}]);